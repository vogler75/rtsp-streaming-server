[server]
host = "0.0.0.0"
port = 8080
cors_allow_origin = "*"

[mqtt]
enabled = true
broker_url = "mqtt://192.168.1.4:1883"
client_id = "videoserver-02"
base_topic = "Videoserver/2"
qos = 0
retain = false
keep_alive_secs = 60
publish_interval_secs = 1
publish_picture_arrival = true
max_packet_size = 268435456

[recording]
enabled = true
database_path = "recordings"
max_frame_size = 10485760
max_recording_age = "1h"
cleanup_interval_hours = 1

[transcoding]
output_format = "mjpeg"
capture_framerate = 5
output_framerate = 0
channel_buffer_size = 50
debug_capture = false
debug_duplicate_frames = false

[server.tls]
enabled = false
cert_path = "certs/server.crt"
key_path = "certs/server.key"

[cameras.cam1]
enabled = true
path = "/cam1"
url = "rtsp://admin007:admin007@192.168.1.171:554/stream1"
transport = "tcp"
reconnect_interval = 5
chunk_read_size = 8192

[cameras.cam2]
enabled = true
path = "/cam2"
url = "rtsp://admin007:admin007@192.168.1.188:554/stream1"
transport = "tcp"
reconnect_interval = 5

[cameras.cam3]
enabled = true
path = "/cam3"
url = "rtsp://admin007:admin007@192.168.1.182:554/stream1"
transport = "tcp"
reconnect_interval = 5

[cameras.cam4]
enabled = true
path = "/cam4"
url = "http://Admin007:Admin007%23%23@outdoor2:80/videostream.asf"
transport = "tcp"
reconnect_interval = 5

[cameras.cam1.mqtt]
publish_interval = 5
topic_name = "Videoserver/test"

[cameras.cam1.ffmpeg]
log_stderr = "file"
use_wallclock_as_timestamps = true
scale = "1280:-1"

[cameras.cam2.mqtt]
publish_interval = 0
topic_name = "surveillance/cameras/cam2/image"

[cameras.cam2.ffmpeg]
log_stderr = "file"
scale = "1280:-1"

[cameras.cam3.ffmpeg]
log_stderr = "file"
scale = "1280:-1"

[cameras.cam4.ffmpeg]
log_stderr = "file"
